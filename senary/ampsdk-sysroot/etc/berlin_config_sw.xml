<?xml version="1.0" encoding="UTF-8"?>
<Marvell>
    <Berlin name="AMP config" version="1.0" rev="0">
        <AMP version="0.5" profile="linux_vs680_z1">
            <SHM>
                <DEBUG  EnUsageDbg="0"
                        EnTraceDbg="0"/>
            </SHM>
            <Components>
                <CLK    MaxInstanceNum="8" />

                <DMX    MaxInstanceNum="64"
                        MaxInputPortNum="16"
                        MaxOutputPortNum="128"
                        VESDefaultBufSize="8388608"
                        VESDefaultPaddingSize="65536"
                        AESDefaultBufSize="524288"
                        AESDefaultPaddingSize="4096"
                        PESDefaultBufSize="1048576"
                        PESDefaultPaddingSize="65536"
                        TSDefaultBufSize="8388608"
                        TSDefaultPaddingSize="65536"
                        SECDefaultBufSize="32768"
                        SECDefaultPaddingSize="4096"
                        bLogToFile="0"
                        LogDir="/data/"
                        bTSDumpFromTSI="0"
                        bEnDataInDump="0"
                        bEnFilterInDump="0"
                        bEnFilterOutDump="0"
                        bEnDataOutDump="0"
                        bEnCryptoInDump="0"
                        bEnCryptoOutDump="0" />

                <DUM    MaxInstanceNum="8" />

                <VDEC   MaxInstanceNum="21"
                        ExtraDisBufNumTunnel="5"
                        ExtraDisBufNumNonTunnel="4"
                        ExtraDisBufNumSpuv="1"
                        ExtraDisBufNumVP9="0" />

                <VENC   />

                <VOUT   MaxInstanceNum="16"
                        MaxInputPortNum="1"
                        MaxOutputPortNum="0"
                        LastFrameModeEnable="1"
                        DisableAvsync="0"/>

                <ADEC   MaxInstanceNum="8" />

                <AENC   />

                <AREN   MaxInstanceNum="8" />

                <APP    />

                <AOUT   MaxInstanceNum="2"
                        MaxInputPortNum="1"
                        MaxOutputPortNum="0" />

                <AVIN   MaxInstanceNum="16"
                        MaxRegisterNotifyNum="32">
                        <!--CONFIG: SW configuration -->
                        <!--RepeatMode: 0 means disable repeat mode; 1 means enable repeat mode-->
                        <!--InternalEDIDEnable: 0 means disable; 1 means enable -->
                        <!--InternalEdid: Internal EDID data, if "InternalEDIDEnable" is 0, this section will not be pasered -->
                        <CONFIG
                                RepeatMode = "0"
                                InternalEDIDEnable = "1"
                                InternalEdid = "0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x4F,0x2E,0x30,0x00,0x01,0x00,0x00,0x00,0x1C,0x1E,0x01,0x03,0x80,0x73,0x41,0x78,0x0A,0xCF,0x74,0xA3,0x57,0x4C,0xB0,0x23,0x09,0x48,0x4C,0x21,0x08,0x00,0x81,0xC0,0x81,0x40,0x81,0x80,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x02,0x3A,0x80,0x18,0x71,0x38,0x2D,0x40,0x58,0x2C,0x45,0x00,0x80,0x88,0x42,0x00,0x00,0x1A,0x1B,0x21,0x50,0xA0,0x51,0x00,0x1E,0x30,0x48,0x88,0x35,0x00,0x44,0x4A,0x21,0x00,0x00,0x1C,0x00,0x00,0x00,0xFC,0x00,0x48,0x44,0x4D,0x49,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,0x00,0x00,0xFD,0x00,0x32,0x4B,0x0F,0x45,0x3C,0x00,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x01,0x86,0x02,0x03,0x3F,0x71,0x50,0x61,0x60,0x5F,0x5E,0x5D,0x10,0x1F,0x22,0x21,0x04,0x13,0x02,0x11,0x05,0x14,0x01,0x2C,0x0F,0x07,0x07,0x15,0x07,0x50,0x55,0x07,0x01,0x67,0x7E,0x01,0x83,0x5D,0x00,0x00,0x6D,0x03,0x0C,0x00,0x10,0x00,0x38,0x3C,0x2F,0x00,0x60,0x01,0x02,0x03,0x67,0xD8,0x5D,0xC4,0x01,0x78,0x80,0x03,0xE2,0x0F,0x03,0x01,0x1D,0x80,0xD0,0x72,0x1C,0x16,0x20,0x10,0x2C,0x25,0x80,0xC4,0x8E,0x21,0x00,0x00,0x9A,0x01,0x1D,0x80,0x18,0x71,0x1C,0x16,0x20,0x58,0x2C,0x25,0x00,0xC4,0x8E,0x21,0x00,0x00,0x9E,0x01,0x1D,0x00,0x72,0x51,0xD0,0x1A,0x20,0x6E,0x28,0x55,0x00,0xC4,0x8E,0x21,0x00,0x00,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF9">
                        </CONFIG>
                </AVIN>

                <IVPP   />

                <DEINT   />

            </Components>

            <Services>
                <Display>
                    <Primary    System="525P60"
                                FrameRate="60"
                                Width="720"
                                Height="480"
                                Scan="Progressive">
                        <!-- HDMI output parameters  -->
                        <!-- ColorFormat RGB888/YCBCR444/YCBCR422  -->
                        <!-- BitDepth 8/10/12 bit  -->
                        <!-- PixelRepeat True/False  -->
                        <!-- CustomPhyEnable 2 = VS680/VS640, 1 = platform BG5CT and below, 0 = disable -->
                        <!-- PhySettingSize Size of raw phy settings -->
                        <!-- PhySettings for VS680/VS640
                             d_tx_term, sup_tx_lvl, ck_symon, tx_symon, tx_traon/tx_trbon, slope_boost, Txrescalctrl[7:0], Txrescalctrl[15:8]
                             of 3 frequency range -->
                        <HDMI       ColorFormat="RGB888"
                                    BitDepth="8"
                                    PixelRepeat="True"
                                    CustomPhyEnable="2"
                                    PhySettingSize="24"
                                    PhySettings="0x7, 0xc, 0x8, 0x8, 0x1, 0x0, 0x0, 0x0, 0x0, 0x9, 0x5, 0xb, 0x2, 0x3, 0x0, 0x0, 0x0, 0x3, 0x5, 0xe, 0x1, 0x0, 0x0, 0x0"/>
                        <HDMI-CONFIG    EnableRxsenseCheck="False"
                                        restrictUhdInHdcp14="False"/>
                        <!--HDR-CONFIG: Description::
                        HdrAutoMode: <0: uses builtin frame for switching>
                                     <1: ignores builtin and BT2020 frame in switching>
                        Switching Delay [in frames]: <XXX2HLG[19:16]|XXX2SDR2020[15:12]|
                                          XXX2SDR[11:8]|XXX2HDR[7:4]|XXX2DOVI[3:0]>
                        HDR_MODULE_SELECT:<0: DCM, 1: DOVI-->
                        <HDR-CONFIG Enable="True"
                            HdrAutoMode="1"
                            DOLBYVISION = "0x22220"
                            HDR = "0x00202"
                            SDR = "0x22022"
                            SDR2020 = "0x00202"
                            HLG = "0x00202"
                            HDR_MODULE_SELECT = "0x00111"
                            />
                        <LVDS       Enable="False"/>

                        <!-- EARC: Capabilities Description::
                             Audio Formats::
                               AudioFmt[LPCM]  Channels[2ch|8ch] SamplingFreq[32kHz|44.1kHz|48kHz|88.2kHz|96kHz|176.4kHz|192kHz]  DataWidths[24b, 10b, 16b]
                               AudioFmt[AC-3]  Channels[6ch]     SamplingFreq[32kHz|44.1kHz|48kHz]  MaxBitRate[640kHz]
                               AudioFmt[DSD]   Channels[6ch]     SamplingFreq[44.1kHz|48kHz]  FormatCodeValue[0]
                               AudioFmt[E_AC3] Channels[8ch]     SamplingFreq[44.1kHz|48kHz]  FormatCodeValue[0]
                               AudioFmt[MAT]   Channels[8ch]     SamplingFreq[44.1kHz|48kHz|88.2kHz|96kHz|176.4kHz|192kHz]  FormatCodeValue[0]
                             Speaker Allocation::
                               FL/FR, LFE1, FC, BL/BR, RLC/RRC -->
                        <EARC    BootUpMode="ARC"
                                 ExtractAudio="I2S"
                                 Latency="0"
                                 Capabilities="0x01,0x01,0x17,0x32,0x09,0x7F,0x07,0x0F,0x7F,0x07,0x15,0x07,0x50,0x4D,0x02,0x00,0x57,0x06,0x00,0x67,0x7E,0x00,0x83,0x4F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"/>
                    </Primary>

                    <Secondary  System="NTSC_M"
                                FrameRate="30"
                                Width="720"
                                Height="480"
                                Scan="Interleave">
                        <VDAC       Enable="True"/>
                    </Secondary>
                    <BuiltInFrames  EnableAll="True" />

                    <DsiResInfo NAME="bananapi_800x1280"
                        CFGXML="bananapi_800_1280.xml" />
                </Display>

                <Sound>
                    <APP    MaxChnDelay="300" />
                </Sound>

                <Drm>
                </Drm>
            </Services>

            <Pipeline>
            </Pipeline>
            <PowerManagement>
                <!-- Set "True" will disable CPM function -->
                <CpmGlobalCtrl
                                    DISABLE   ="False"/>
                <!-- Power setting when system startup -->
                <StartUpPowerSave
                        V4G   ="True"
                        H1    ="True"
                        OVP   ="True"/>
            </PowerManagement>
            <Qos>
                  <!--Config: DISABLE, DDR1866, DDR2133 -->
                  <Setting     Config = "DDR1866" />
            </Qos>
        </AMP>
    </Berlin>
</Marvell>
